<!doctype html>
<html lang="en" class="light">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Mini Task Scheduler - Your Digital Productivity Assistant</title>
  <meta name="description" content="A powerful, secure task scheduler with 3-factor authentication, advanced scheduling, and beautiful design.">
  
  <!-- Enhanced Styles -->
  <link rel="stylesheet" href="styles-enhanced.css">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.webmanifest">
  
  <!-- Mobile optimizations -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Task Scheduler">
  <link rel="apple-touch-icon" href="./assets/logo.png">
  
  <!-- Theme colors -->
  <meta name="theme-color" content="#2563eb">
  <meta name="msapplication-TileColor" content="#2563eb">
  
  <!-- SEO -->
  <meta name="keywords" content="task scheduler, productivity, todo list, time management, scheduling">
  <meta name="author" content="Task Scheduler Team">
  
  <!-- Open Graph -->
  <meta property="og:title" content="Mini Task Scheduler">
  <meta property="og:description" content="A powerful, secure task scheduler with advanced features">
  <meta property="og:type" content="website">
  <meta property="og:image" content="./assets/logo.png">
  
  <style>
    /* Page-specific animations */
    .hero-section {
      background: linear-gradient(135deg, var(--primary-50) 0%, var(--primary-100) 100%);
      border-radius: var(--radius-2xl);
      position: relative;
      overflow: hidden;
    }
    
    .dark .hero-section {
      background: linear-gradient(135deg, var(--primary-900) 0%, #1e293b 100%);
    }
    
    .hero-section::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 300px;
      height: 300px;
      background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
      transform: translate(100px, -100px);
    }
    
    .feature-grid {
      gap: var(--space-8);
      margin-top: var(--space-12);
    }
    
    .feature-card {
      background: var(--bg-secondary);
      padding: var(--space-8);
      border-radius: var(--radius-xl);
      border: 1px solid var(--border-color);
      transition: all var(--transition-normal);
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-500), var(--success-500));
      transform: scaleX(0);
      transition: transform var(--transition-normal);
    }
    
    .feature-card:hover::before {
      transform: scaleX(1);
    }
    
    .feature-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
    }
    
    .feature-icon {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
      border-radius: var(--radius-2xl);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto var(--space-6);
      font-size: 2rem;
      color: white;
      box-shadow: var(--shadow-lg);
      transition: transform var(--transition-normal);
    }
    
    .feature-card:hover .feature-icon {
      transform: scale(1.1) rotate(5deg);
    }
    
    .stats-grid {
      gap: var(--space-6);
      margin-top: var(--space-8);
    }
    
    .stat-item {
      background: var(--bg-secondary);
      padding: var(--space-6);
      border-radius: var(--radius-xl);
      text-align: center;
      border: 1px solid var(--border-color);
      transition: all var(--transition-normal);
    }
    
    .stat-item:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }
    
    .stat-number {
      font-size: 2.5rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--primary-600), var(--success-500));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: var(--space-2);
    }
    
    .stat-label {
      color: var(--text-secondary);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-size: 0.875rem;
    }
    
    .cta-section {
      background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
      color: white;
      text-align: center;
      border-radius: var(--radius-2xl);
      position: relative;
      overflow: hidden;
      margin-top: var(--space-16);
    }
    
    .cta-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="%23ffffff" fill-opacity="0.1"><circle cx="30" cy="30" r="30"/></g></svg>') repeat;
      opacity: 0.1;
    }
    
    .cta-content {
      position: relative;
      z-index: 1;
    }
    
    .floating-elements {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
    }
    
    .floating-element {
      position: absolute;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      animation: float 6s ease-in-out infinite;
    }
    
    .floating-element:nth-child(1) {
      width: 80px;
      height: 80px;
      top: 20%;
      left: 10%;
      animation-delay: -1s;
    }
    
    .floating-element:nth-child(2) {
      width: 60px;
      height: 60px;
      top: 60%;
      right: 15%;
      animation-delay: -3s;
    }
    
    .floating-element:nth-child(3) {
      width: 40px;
      height: 40px;
      top: 10%;
      right: 25%;
      animation-delay: -5s;
    }
    
    @keyframes float {
      0%, 100% {
        transform: translateY(0px) rotate(0deg);
      }
      50% {
        transform: translateY(-20px) rotate(180deg);
      }
    }
    
    /* Loading animation for buttons */
    .btn-loading {
      position: relative;
      pointer-events: none;
    }
    
    .btn-loading::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      border: 2px solid transparent;
      border-top: 2px solid currentColor;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-left: var(--space-2);
    }
    
    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
  </style>
</head>
<body>
  <!-- Enhanced Navigation -->
  <nav class="topnav" id="navbar">
    <a href="index.html" class="brand">
      <img src="./assets/logo.png" alt="Task Scheduler Logo" class="nav-logo">
      <span>Task Scheduler</span>
    </a>
    <div class="navlinks">
      <a href="index.html" class="active">Home</a>
      <a href="dashboard-enhanced.html" id="dashboardLink" style="display: none;">Dashboard</a>
      <a href="history.html" id="historyLink" style="display: none;">History</a>
      <a href="about.html">About</a>
      <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
        <span id="theme-icon">üåô</span>
      </button>
    </div>
  </nav>

  <!-- Main Content -->
  <main>
    <!-- Hero Section -->
    <section class="hero-section card animate-fade-in">
      <div class="floating-elements">
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
      </div>
      <div class="cta-content">
        <h1 class="mb-6">Welcome to Task Scheduler</h1>
        <p class="mb-8">Your intelligent productivity companion with advanced scheduling, secure authentication, and beautiful design. Take control of your time and boost your productivity like never before.</p>
        
        <!-- Quick Stats -->
        <div class="grid grid-cols-3 stats-grid">
          <div class="stat-item animate-bounce-in" style="animation-delay: 0.2s">
            <div class="stat-number">99.9%</div>
            <div class="stat-label">Uptime</div>
          </div>
          <div class="stat-item animate-bounce-in" style="animation-delay: 0.4s">
            <div class="stat-number">256-bit</div>
            <div class="stat-label">Encryption</div>
          </div>
          <div class="stat-item animate-bounce-in" style="animation-delay: 0.6s">
            <div class="stat-number">3-Factor</div>
            <div class="stat-label">Authentication</div>
          </div>
        </div>
        
        <!-- CTA Buttons -->
        <div class="flex gap-4 mt-8" style="justify-content: center; flex-wrap: wrap;">
          <a href="register-enhanced.html" class="btn btn-primary btn-lg animate-slide-in-right" style="animation-delay: 0.8s">
            üöÄ Get Started
          </a>
          <a href="login.html" class="btn btn-secondary btn-lg animate-slide-in-right" style="animation-delay: 1s">
            üîê Sign In
          </a>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="feature-grid grid grid-cols-3 mt-16">
      <div class="feature-card animate-fade-in" style="animation-delay: 0.2s">
        <div class="feature-icon">üõ°Ô∏è</div>
        <h3 class="mb-4">Advanced Security</h3>
        <p>Multi-factor authentication with face recognition, SMS verification, and enterprise-grade encryption to keep your data safe.</p>
      </div>
      
      <div class="feature-card animate-fade-in" style="animation-delay: 0.4s">
        <div class="feature-icon">üì±</div>
        <h3 class="mb-4">Cross-Platform</h3>
        <p>Works seamlessly across all devices with our responsive design and Progressive Web App capabilities for offline access.</p>
      </div>
      
      <div class="feature-card animate-fade-in" style="animation-delay: 0.6s">
        <div class="feature-icon">‚ö°</div>
        <h3 class="mb-4">Lightning Fast</h3>
        <p>Built with performance in mind using optimized C backend and modern web technologies for instant response times.</p>
      </div>
      
      <div class="feature-card animate-fade-in" style="animation-delay: 0.8s">
        <div class="feature-icon">üîÑ</div>
        <h3 class="mb-4">Smart Sync</h3>
        <p>Real-time synchronization across all your devices with intelligent conflict resolution and offline-first design.</p>
      </div>
      
      <div class="feature-card animate-fade-in" style="animation-delay: 1s">
        <div class="feature-icon">üìä</div>
        <h3 class="mb-4">Analytics</h3>
        <p>Comprehensive insights into your productivity patterns with detailed charts, reports, and improvement suggestions.</p>
      </div>
      
      <div class="feature-card animate-fade-in" style="animation-delay: 1.2s">
        <div class="feature-icon">üé®</div>
        <h3 class="mb-4">Beautiful Design</h3>
        <p>Carefully crafted interface with dark mode support, accessibility features, and animations that enhance usability.</p>
      </div>
    </section>

    <!-- Call to Action Section -->
    <section class="cta-section card animate-fade-in" style="animation-delay: 1.4s">
      <div class="floating-elements">
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
      </div>
      <div class="cta-content">
        <h2 class="mb-6">Ready to Transform Your Productivity?</h2>
        <p class="mb-8">Join thousands of users who have already revolutionized their time management with our advanced task scheduling platform.</p>
        <a href="register-enhanced.html" class="btn btn-secondary btn-lg" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid rgba(255,255,255,0.3);">
          üéØ Start Your Journey
        </a>
      </div>
    </section>
  </main>

  <!-- Enhanced JavaScript -->
  <script>
    // Theme Management
    function toggleTheme() {
      const html = document.documentElement;
      const themeIcon = document.getElementById('theme-icon');
      const currentTheme = html.classList.contains('dark') ? 'dark' : 'light';
      
      if (currentTheme === 'light') {
        html.classList.remove('light');
        html.classList.add('dark');
        themeIcon.textContent = '‚òÄÔ∏è';
        localStorage.setItem('theme', 'dark');
      } else {
        html.classList.remove('dark');
        html.classList.add('light');
        themeIcon.textContent = 'üåô';
        localStorage.setItem('theme', 'light');
      }
      
      // Add theme transition effect
      document.body.style.transition = 'background-color 0.3s ease, color 0.3s ease';
      setTimeout(() => {
        document.body.style.transition = '';
      }, 300);
    }
    
    // Initialize theme
    function initializeTheme() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      const html = document.documentElement;
      const themeIcon = document.getElementById('theme-icon');
      
      html.classList.remove('light', 'dark');
      html.classList.add(savedTheme);
      themeIcon.textContent = savedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    }
    
    // Enhanced navbar scroll effect
    function updateNavbar() {
      const navbar = document.getElementById('navbar');
      const scrolled = window.scrollY > 50;
      
      navbar.classList.toggle('scrolled', scrolled);
    }
    
    // Smooth scroll for anchor links
    function initializeSmoothScroll() {
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    }
    
    // Intersection Observer for animations
    function initializeAnimations() {
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
          }
        });
      }, observerOptions);
      
      // Observe elements with animation classes
      document.querySelectorAll('.animate-fade-in, .animate-slide-in-right, .animate-bounce-in').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        observer.observe(el);
      });
    }
    
    // Performance monitoring
    function logPerformanceMetrics() {
      if ('performance' in window) {
        window.addEventListener('load', () => {
          setTimeout(() => {
            const perfData = performance.getEntriesByType('navigation')[0];
            console.log('üöÄ Page Load Performance:');
            console.log(`   DOM Ready: ${Math.round(perfData.domContentLoadedEventEnd - perfData.navigationStart)}ms`);
            console.log(`   Full Load: ${Math.round(perfData.loadEventEnd - perfData.navigationStart)}ms`);
            console.log(`   Time to Interactive: ${Math.round(perfData.domInteractive - perfData.navigationStart)}ms`);
          }, 0);
        });
      }
    }
    
    // Service Worker Registration
    function registerServiceWorker() {
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js')
            .then(registration => {
              console.log('‚úÖ SW registered:', registration);
            })
            .catch(registrationError => {
              console.log('‚ùå SW registration failed:', registrationError);
            });
        });
      }
    }
    
    // Enhanced error handling
    function setupErrorHandling() {
      window.addEventListener('error', (event) => {
        console.error('üö® JavaScript Error:', event.error);
        // In production, you might want to send this to an error tracking service
      });
      
      window.addEventListener('unhandledrejection', (event) => {
        console.error('üö® Unhandled Promise Rejection:', event.reason);
        event.preventDefault();
      });
    }
    
    // Page visibility handling
    function handleVisibilityChange() {
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
          console.log('üì± Page became hidden');
        } else {
          console.log('üì± Page became visible');
        }
      });
    }
    
    // Check authentication and show/hide navigation links
    function checkAuthenticationForNavigation() {
      const token = localStorage.getItem('authToken');
      const dashboardLink = document.getElementById('dashboardLink');
      const historyLink = document.getElementById('historyLink');
      
      if (token && dashboardLink && historyLink) {
        dashboardLink.style.display = 'inline-block';
        historyLink.style.display = 'inline-block';
      }
    }

    // Listen for login events to update navigation
    window.addEventListener('userLoggedIn', checkAuthenticationForNavigation);
    window.addEventListener('storage', (e) => {
      if (e.key === 'authToken') {
        checkAuthenticationForNavigation();
      }
    });
    
    // Initialize everything
    document.addEventListener('DOMContentLoaded', () => {
      initializeTheme();
      initializeSmoothScroll();
      initializeAnimations();
      setupErrorHandling();
      handleVisibilityChange();
      logPerformanceMetrics();
      registerServiceWorker();
      checkAuthenticationForNavigation(); // Add auth check
      
      console.log('üéâ Task Scheduler initialized successfully!');
    });
    
    // Event listeners
    window.addEventListener('scroll', updateNavbar);
    window.addEventListener('resize', () => {
      // Handle responsive changes
      console.log('üìê Window resized:', window.innerWidth + 'x' + window.innerHeight);
    });
    
    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      // Ctrl/Cmd + K for search (future feature)
      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
        e.preventDefault();
        console.log('üîç Search shortcut pressed (feature coming soon)');
      }
      
      // Alt + T for theme toggle
      if (e.altKey && e.key === 't') {
        e.preventDefault();
        toggleTheme();
      }
    });
  </script>
</body>
</html>